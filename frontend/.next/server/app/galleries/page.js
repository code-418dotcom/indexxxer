(()=>{var e={};e.id=519,e.ids=[519],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8914:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>g,tree:()=>d}),r(8414),r(4403),r(996);var o=r(170),n=r(5002),i=r(3876),a=r.n(i),s=r(6299),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);r.d(t,l);let d=["",{children:["galleries",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8414)),"/home/project/frontend/app/galleries/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4403)),"/home/project/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"]}],p=["/home/project/frontend/app/galleries/page.tsx"],c="/galleries/page",u={require:r,loadChunk:()=>Promise.resolve()},g=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/galleries/page",pathname:"/galleries",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9494:(e,t,r)=>{Promise.resolve().then(r.bind(r,3923))},3287:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3642,23)),Promise.resolve().then(r.t.bind(r,7586,23)),Promise.resolve().then(r.t.bind(r,7838,23)),Promise.resolve().then(r.t.bind(r,8057,23)),Promise.resolve().then(r.t.bind(r,7741,23)),Promise.resolve().then(r.t.bind(r,3118,23))},5303:()=>{},3923:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(7247),n=r(8964),i=r(4178);function a(e){let t=e.split("/").filter(Boolean);return t.length?t[t.length-1]:e}function s(){let e=(0,i.useRouter)();(0,i.useSearchParams)();let[t,r]=(0,n.useState)([]),[s,l]=(0,n.useState)(""),[d,p]=(0,n.useState)([]),[c,u]=(0,n.useState)(!1),[g,h]=(0,n.useState)(""),[x,m]=(0,n.useState)(!1),[b,f]=(0,n.useState)(""),[y,v]=(0,n.useState)(-1),[j,S]=(0,n.useState)(""),w=e=>{if(!j||y<0||0===d.length)return;let t=y+e;if(t<0&&(t=0),t>=d.length&&(t=d.length-1),t===y)return;v(t);let r=d[t];f(`/api/zip/image?rel_path=${encodeURIComponent(j)}&entry=${encodeURIComponent(r)}`)},P=(0,n.useMemo)(()=>t.filter(e=>"zip"===e.kind).sort((e,t)=>e.rel_path.localeCompare(t.rel_path)),[t]);return(0,o.jsxs)("main",{style:{padding:24,maxWidth:1400,margin:"0 auto",background:"linear-gradient(to bottom, #f8f9fa 0%, #ffffff 100%)",minHeight:"100vh"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:24},children:[o.jsx("a",{href:"/",style:{textDecoration:"none",color:"#667eea",fontWeight:500,display:"flex",alignItems:"center",gap:4},children:"← Back"}),o.jsx("h1",{style:{margin:0,fontSize:28,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Galleries"}),(0,o.jsxs)("div",{style:{fontSize:13,opacity:.5,background:"white",padding:"4px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.06)"},children:[P.length," total"]})]}),g?o.jsx("div",{style:{marginTop:12,padding:14,borderRadius:16,border:"1px solid rgba(239, 68, 68, 0.3)",background:"rgba(239, 68, 68, 0.08)",color:"#dc2626"},children:g}):null,s?(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:20},children:[o.jsx("button",{onClick:()=>{l(""),p([]),m(!1),e.replace("/galleries")},style:{padding:"8px 14px",borderRadius:10,border:"1px solid rgba(0,0,0,0.1)",background:"white",cursor:"pointer",fontSize:13,fontWeight:500,color:"#667eea"},children:"← All Galleries"}),o.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#1f2937"},children:a(s)}),o.jsx("div",{style:{fontSize:13,opacity:.5,background:"white",padding:"4px 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.06)"},children:c?"Loading…":`${d.length} images`})]}),c?o.jsx("div",{style:{padding:48,textAlign:"center",borderRadius:16,border:"2px dashed rgba(0,0,0,0.1)",opacity:.6},children:o.jsx("div",{style:{fontSize:14},children:"Loading gallery…"})}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:d.map((e,t)=>o.jsx("button",{onClick:()=>{f(`/api/zip/image?rel_path=${encodeURIComponent(s)}&entry=${encodeURIComponent(e)}`),v(t),S(s),m(!0)},title:e,style:{padding:0,border:"none",borderRadius:12,overflow:"hidden",background:"white",cursor:"zoom-in",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.02)",e.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.12)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:o.jsx("img",{src:`/api/zip/thumb?rel_path=${encodeURIComponent(s)}&entry=${encodeURIComponent(e)}&size=360`,alt:e,style:{width:"100%",height:200,objectFit:"cover",display:"block"},loading:"lazy"})},`${s}::${e}`))})]}):(0,o.jsxs)("div",{children:[o.jsx("div",{style:{fontSize:14,opacity:.6,marginBottom:16},children:"Select a gallery to view its contents"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:16},children:[P.map(t=>(0,o.jsxs)("button",{onClick:()=>{var r;l(r=t.rel_path),m(!1),f(""),v(-1),S(""),e.replace(`/galleries?path=${encodeURIComponent(r)}`)},style:{textAlign:"left",padding:20,borderRadius:16,border:"none",background:"white",cursor:"pointer",boxShadow:"0 2px 12px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.04)",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.1), 0 0 0 1px rgba(0,0,0,0.06)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 12px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.04)"},children:[o.jsx("div",{style:{fontSize:32,marginBottom:12},children:"\uD83D\uDCC1"}),o.jsx("div",{style:{fontSize:15,fontWeight:600,marginBottom:6,color:"#1f2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:t.rel_path,children:a(t.rel_path)}),o.jsx("div",{style:{fontSize:12,opacity:.5},children:"Click to view"})]},t.rel_path)),P.length?null:(0,o.jsxs)("div",{style:{gridColumn:"1 / -1",padding:48,textAlign:"center",borderRadius:16,border:"2px dashed rgba(0,0,0,0.1)",opacity:.6},children:[o.jsx("div",{style:{fontSize:48,marginBottom:16},children:"\uD83D\uDCE6"}),(0,o.jsxs)("div",{style:{fontSize:14},children:["No galleries found. Use ",o.jsx("b",{children:"Tools → Index now"})," to scan your media."]})]})]})]}),x?o.jsx("div",{onClick:()=>m(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",display:"grid",placeItems:"center",padding:24,zIndex:9999,cursor:"zoom-out"},children:(0,o.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{position:"relative",maxWidth:"95vw",maxHeight:"95vh",display:"grid",placeItems:"center",cursor:"default"},children:[o.jsx("button",{onClick:e=>{e.stopPropagation(),w(-1)},"aria-label":"Previous",title:"Previous (←)",style:{position:"absolute",left:-12,top:"50%",transform:"translate(-100%, -50%)",border:"none",background:"rgba(255,255,255,0.15)",color:"white",width:44,height:44,borderRadius:999,fontSize:28,lineHeight:"44px",cursor:"pointer",userSelect:"none"},children:"‹"}),o.jsx("img",{src:b,alt:"Full size",style:{maxWidth:"95vw",maxHeight:"95vh",borderRadius:12,boxShadow:"0 20px 50px rgba(0,0,0,0.35)",cursor:"default"}}),o.jsx("button",{onClick:e=>{e.stopPropagation(),w(1)},"aria-label":"Next",title:"Next (→)",style:{position:"absolute",right:-12,top:"50%",transform:"translate(100%, -50%)",border:"none",background:"rgba(255,255,255,0.15)",color:"white",width:44,height:44,borderRadius:999,fontSize:28,lineHeight:"44px",cursor:"pointer",userSelect:"none"},children:"›"}),o.jsx("div",{style:{position:"absolute",bottom:-10,transform:"translateY(100%)",color:"rgba(255,255,255,0.85)",fontSize:12,userSelect:"none"},children:y>=0?`${y+1} / ${d.length}`:""})]})}):null]})}},4178:(e,t,r)=>{"use strict";var o=r(5289);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}}),r.o(o,"useSearchParams")&&r.d(t,{useSearchParams:function(){return o.useSearchParams}})},8414:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(5347).createProxy)(String.raw`/home/project/frontend/app/galleries/page.tsx#default`)},4403:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>n});var o=r(2051);let n={title:"indexxxer"};function i({children:e}){return o.jsx("html",{lang:"en",children:o.jsx("body",{style:{margin:0,fontFamily:"ui-sans-serif, system-ui"},children:e})})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[787,39],()=>r(8914));module.exports=o})();