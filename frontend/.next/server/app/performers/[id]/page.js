(()=>{var e={};e.id=157,e.ids=[157],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},988:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>h,tree:()=>l}),t(6246),t(4403),t(996);var i=t(170),o=t(5002),n=t(3876),a=t.n(n),s=t(6299),d={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>s[e]);t.d(r,d);let l=["",{children:["performers",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6246)),"/home/project/frontend/app/performers/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4403)),"/home/project/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"]}],p=["/home/project/frontend/app/performers/[id]/page.tsx"],c="/performers/[id]/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/performers/[id]/page",pathname:"/performers/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},8474:(e,r,t)=>{Promise.resolve().then(t.bind(t,3429))},3429:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var i=t(7247),o=t(8964),n=t(4178),a=t(5263);function s({params:e}){(0,n.useRouter)();let[r,t]=(0,o.useState)(null),[s,d]=(0,o.useState)([]),[l,p]=(0,o.useState)([]),[c,u]=(0,o.useState)(""),[h,g]=(0,o.useState)(null),m=(0,o.useMemo)(()=>{if(l&&l.length)return l.map(e=>({...e.media||{},confidence:e.confidence,matched_by:e.matched_by}));if(!r?.name)return[];let e=String(r.name).toLowerCase(),t=e.split(" ")[0]||e;return s.filter(e=>String(e.rel_path||"").toLowerCase().includes(t)).slice(0,60)},[s,r,l]);return(0,i.jsxs)("main",{style:{padding:24,maxWidth:1200,margin:"0 auto"},children:[i.jsx("a",{href:"/",style:{textDecoration:"none",color:"black",opacity:.75},children:"← Back"}),c?i.jsx("div",{style:{marginTop:12,padding:12,border:"1px solid rgba(255,0,0,0.25)",background:"rgba(255,0,0,0.05)",borderRadius:12,whiteSpace:"pre-wrap"},children:c}):null,r?(0,i.jsxs)("div",{style:{marginTop:16},children:[i.jsx(a.Z,{p:r,variant:"detail"}),i.jsx("h2",{style:{marginTop:24},children:"Indexed files (best-effort match)"}),(0,i.jsxs)("div",{style:{opacity:.7,fontSize:13,marginBottom:10},children:["Thumbnails are generated by the API using ",i.jsx("code",{children:"ffmpeg"})," for videos and cached."]}),m.length?i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:14},children:m.map(e=>(0,i.jsxs)("div",{style:{border:"none",borderRadius:16,overflow:"hidden",background:"white",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",transition:"all 0.2s",cursor:"video"===e.kind?"pointer":"default"},onClick:()=>{"video"===e.kind&&g(e.rel_path)},onMouseEnter:r=>{"video"===e.kind&&(r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.12)")},onMouseLeave:r=>{"video"===e.kind&&(r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="0 2px 12px rgba(0,0,0,0.08)")},children:[(0,i.jsxs)("div",{style:{aspectRatio:"16/10",background:"linear-gradient(135deg, rgba(0,0,0,0.03), rgba(0,0,0,0.06))",position:"relative",display:"grid",placeItems:"center"},children:[i.jsx("img",{src:`/api/media/thumb?rel_path=${encodeURIComponent(e.rel_path)}`,alt:e.rel_path,style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.currentTarget.style.display="none"}}),"video"===e.kind&&i.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:48,height:48,borderRadius:"50%",background:"rgba(102, 126, 234, 0.9)",display:"grid",placeItems:"center",color:"white",fontSize:20},children:"▶"}),i.jsx("div",{style:{position:"absolute",bottom:8,right:8,fontSize:10,padding:"4px 8px",borderRadius:8,background:"rgba(0,0,0,0.75)",color:"white",fontWeight:600,textTransform:"uppercase"},children:e.kind})]}),i.jsx("div",{style:{padding:12,fontSize:11,fontFamily:"ui-monospace, SFMono-Regular",opacity:.7,wordBreak:"break-word",lineHeight:1.4},children:e.rel_path.split("/").pop()})]},e.id))}):(0,i.jsxs)("div",{style:{padding:24,opacity:.6,fontSize:14,border:"2px dashed rgba(0,0,0,0.1)",borderRadius:16,textAlign:"center"},children:["No matches yet. Use ",i.jsx("b",{children:"Tools → Index now"})," to build the media index."]}),h&&i.jsx("div",{onClick:()=>g(null),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"grid",placeItems:"center",padding:24,zIndex:9999,cursor:"pointer"},children:(0,i.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",borderRadius:16,overflow:"hidden",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",cursor:"default"},children:[i.jsx("button",{onClick:()=>g(null),style:{position:"absolute",top:16,right:16,width:40,height:40,borderRadius:"50%",border:"none",background:"rgba(0,0,0,0.7)",color:"white",fontSize:20,cursor:"pointer",zIndex:10},children:"✕"}),i.jsx("video",{src:`/api/media/stream?rel_path=${encodeURIComponent(h)}`,controls:!0,autoPlay:!0,style:{maxWidth:"90vw",maxHeight:"90vh",display:"block"}})]})})]}):i.jsx("div",{style:{marginTop:16,opacity:.7},children:"Loading…"})]})}},4178:(e,r,t)=>{"use strict";var i=t(5289);t.o(i,"useRouter")&&t.d(r,{useRouter:function(){return i.useRouter}}),t.o(i,"useSearchParams")&&t.d(r,{useSearchParams:function(){return i.useSearchParams}})},6246:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});let i=(0,t(5347).createProxy)(String.raw`/home/project/frontend/app/performers/[id]/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[787,39,373],()=>t(988));module.exports=i})();