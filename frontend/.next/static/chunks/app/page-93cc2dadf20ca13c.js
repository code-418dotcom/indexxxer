(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{463:function(e,t,r){Promise.resolve().then(r.bind(r,7340))},7340:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var i=r(7437),a=r(2265),n=r(125),o=r(257);let l=[{label:"25",value:25},{label:"50",value:50},{label:"100",value:100},{label:"250",value:250},{label:"500",value:500},{label:"1000",value:1e3},{label:"All",value:-1}];function s(){let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[c,d]=(0,a.useState)(""),[u,p]=(0,a.useState)("checking..."),[g,h]=(0,a.useState)(""),[f,x]=(0,a.useState)(null),[b,y]=(0,a.useState)(25),[m,v]=(0,a.useState)(1),j=o.env.NEXT_PUBLIC_APP_NAME||"indexxxer",w=o.env.NEXT_PUBLIC_APP_VERSION||"0.0.0",k=(0,a.useRef)({aborted:!1});(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/health",{cache:"no-store"});if(e.ok){let t=await e.json().catch(()=>({}));p("ok (".concat(t.version||"?",")"))}else p("failed (".concat(e.status,")"))}catch(e){p("failed: ".concat((null==e?void 0:e.message)||e))}d("");try{let e=await fetch("/api/performers",{cache:"no-store"});if(!e.ok){let t=await e.text().catch(()=>"");d("API error: ".concat(e.status," ").concat(t?"- "+t:""));return}let r=await e.json();t(Array.isArray(r)?r:[]);try{let e=await fetch("/api/media/items",{cache:"no-store"}),t=await e.json(),r=Array.isArray(t)?t:(null==t?void 0:t.items)||[];s(r)}catch(e){s([])}}catch(e){d("Fetch failed: ".concat((null==e?void 0:e.message)||e))}})()},[]),(0,a.useEffect)(()=>{try{let e=new URLSearchParams(window.location.search),t=e.get("fkey"),r=e.get("fval");t&&r?x({key:t,value:r}):x(null)}catch(e){}},[]),(0,a.useMemo)(()=>(r||[]).filter(e=>"zip"===e.kind).sort((e,t)=>String(e.rel_path).localeCompare(String(t.rel_path))),[r]);let S=(0,a.useMemo)(()=>{let t=[["Hair","hair_color"],["Eyes","eye_color"],["Boobs","boobs"],["Cup","cup"],["Career","career_status"],["Birthplace","place_of_birth"]],r={};for(let[e]of t)r[e]={};for(let i of e||[])for(let[e,a]of t){let t=i[a],n=String(null!=t?t:"").trim();n&&"Unknown"!==n&&(r[e][n]=(r[e][n]||0)+1)}return t.map(e=>{let[t]=e,i=Object.entries(r[t]||{}).sort((e,t)=>t[1]-e[1]).slice(0,60),a=i.length?i[0][1]:1,n=i.length?i[i.length-1][1]:1;return{label:t,entries:i.map(e=>{let[t,r]=e;return{v:t,c:r,size:12+(r-n)/Math.max(1,a-n)*12}})}})},[e]),T=(0,a.useMemo)(()=>{let t=g.trim().toLowerCase();return e.filter(e=>{if(f){let t=null==e?void 0:e[f.key];if((null==t?"":String(t)).trim()!==f.value)return!1}if(!t)return!0;let r=String((null==e?void 0:e.name)||"").toLowerCase(),i=String((null==e?void 0:e.aliases)||"").toLowerCase();return r.includes(t)||i.includes(t)})},[e,g,f]);(0,a.useEffect)(()=>{v(1)},[g,f,b]);let _=T.length,C=-1===b?_||1:b,z=-1===b?1:Math.max(1,Math.ceil(_/C)),B=Math.min(Math.max(1,m),z),E=(0,a.useMemo)(()=>{if(-1===b)return T;let e=(B-1)*C;return T.slice(e,e+C)},[T,b,B,C]);return(0,a.useEffect)(()=>{k.current.aborted=!0;let e={aborted:!1};k.current=e;let t=T.map(e=>null==e?void 0:e.id).filter(e=>"number"==typeof e||"string"==typeof e);if(!t.length)return;let r=0,i=()=>{if(e.aborted)return;let a=Math.min(r+24,t.length);for(;r<a;r++){let e=t[r];new Image().src="/api/performers/".concat(e,"/thumb?size=480")}r<t.length&&("function"==typeof window.requestIdleCallback?window.requestIdleCallback(i,{timeout:1e3}):setTimeout(i,50))};return setTimeout(i,0),()=>{e.aborted=!0}},[T]),(0,i.jsxs)("main",{style:{padding:24,maxWidth:1400,margin:"0 auto",background:"linear-gradient(to bottom, #f8f9fa 0%, #ffffff 100%)",minHeight:"100vh"},children:[(0,i.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",gap:16,marginBottom:24},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{style:{margin:0,fontSize:32,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:j}),(0,i.jsxs)("div",{style:{fontSize:13,opacity:.5,marginTop:4},children:["v",w]})]}),(0,i.jsxs)("div",{style:{fontSize:12,opacity:.5,background:"white",padding:"8px 12px",borderRadius:8,border:"1px solid rgba(0,0,0,0.06)"},children:["API: ",(0,i.jsx)("code",{style:{background:"rgba(0,0,0,0.05)",padding:"2px 6px",borderRadius:4,fontSize:11},children:u})]})]}),c?(0,i.jsx)("div",{style:{marginTop:14,padding:12,borderRadius:12,border:"1px solid rgba(255,0,0,0.25)",background:"rgba(255,0,0,0.05)",whiteSpace:"pre-wrap"},children:c}):null,(0,i.jsxs)("div",{style:{marginTop:0,display:"grid",gridTemplateColumns:"300px 1fr",gap:20,alignItems:"start"},children:[(0,i.jsxs)("aside",{style:{position:"sticky",top:24,alignSelf:"start",maxHeight:"calc(100vh - 48px)",overflowY:"auto",border:"none",borderRadius:20,padding:20,background:"white",boxShadow:"0 4px 24px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.04)"},children:[(0,i.jsx)("button",{onClick:()=>window.location.href="/tools",style:{width:"100%",padding:"12px 16px",borderRadius:12,border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",cursor:"pointer",fontWeight:600,fontSize:14,boxShadow:"0 2px 8px rgba(102, 126, 234, 0.3)",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(102, 126, 234, 0.3)"},children:"⚙️ Tools"}),(0,i.jsxs)("div",{style:{marginTop:20,borderTop:"1px solid rgba(0,0,0,0.06)",paddingTop:16},children:[(0,i.jsx)("div",{style:{fontWeight:600,marginBottom:10,fontSize:13,opacity:.7},children:"Galleries"}),(0,i.jsxs)("a",{href:"/galleries",style:{display:"flex",alignItems:"center",gap:8,padding:"10px 14px",border:"1px solid rgba(0,0,0,0.1)",borderRadius:10,textDecoration:"none",fontWeight:500,fontSize:14,color:"#667eea",background:"rgba(102, 126, 234, 0.05)",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(102, 126, 234, 0.1)",e.currentTarget.style.transform="translateX(2px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(102, 126, 234, 0.05)",e.currentTarget.style.transform="translateX(0)"},children:[(0,i.jsx)("span",{children:"\uD83D\uDCC1"}),(0,i.jsx)("span",{children:"Browse ZIP galleries"})]})]}),(0,i.jsxs)("div",{style:{marginTop:20,borderTop:"1px solid rgba(0,0,0,0.06)",paddingTop:16},children:[(0,i.jsx)("div",{style:{fontWeight:600,marginBottom:10,fontSize:13,opacity:.7},children:"Filters"}),(0,i.jsx)("div",{style:{fontSize:11,opacity:.5,marginBottom:12},children:"Click any tag to filter"}),S.map(e=>(0,i.jsxs)("div",{style:{marginBottom:16},children:[(0,i.jsx)("div",{style:{fontSize:11,fontWeight:600,opacity:.6,marginBottom:8,textTransform:"uppercase",letterSpacing:"0.5px"},children:e.label}),(0,i.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:0===e.entries.length?(0,i.jsx)("span",{style:{fontSize:12,opacity:.4},children:"—"}):e.entries.map(t=>(0,i.jsx)("button",{title:"".concat(t.v," (").concat(t.c," performers)"),onClick:()=>{let r={Hair:"hair_color",Eyes:"eye_color",Boobs:"boobs",Cup:"cup",Career:"career_status",Birthplace:"place_of_birth"}[e.label]||e.label,i=new URLSearchParams(window.location.search);i.set("fkey",r),i.set("fval",t.v),window.location.href="/?".concat(i.toString())},style:{fontSize:11,background:"linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(118, 75, 162, 0.08))",border:"1px solid rgba(102, 126, 234, 0.2)",padding:"4px 10px",borderRadius:12,cursor:"pointer",color:"#667eea",fontWeight:500,transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(102, 126, 234, 0.15), rgba(118, 75, 162, 0.15))",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 2px 8px rgba(102, 126, 234, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(118, 75, 162, 0.08))",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:t.v},t.v))})]},e.label))]})]}),(0,i.jsxs)("section",{children:[(0,i.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[(0,i.jsx)("input",{value:g,onChange:e=>h(e.target.value),placeholder:"Search performers (name or alias)…",style:{flex:"1 1 420px",padding:"10px 12px",borderRadius:12,border:"1px solid rgba(0,0,0,0.15)",outline:"none"}}),f&&(0,i.jsxs)("button",{onClick:()=>{x(null);let e=new URLSearchParams(window.location.search);e.delete("fkey"),e.delete("fval");let t=e.toString();window.history.replaceState({},"",t?"/?".concat(t):"/")},title:"Clear field filter",style:{padding:"8px 10px",borderRadius:999,border:"1px solid rgba(0,0,0,0.15)",background:"rgba(0,0,0,0.03)",cursor:"pointer",fontSize:12,whiteSpace:"nowrap"},children:["Filter: ",f.key," = ",f.value," ✕"]}),(0,i.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,i.jsx)("div",{style:{fontSize:12,opacity:.7},children:"Per page"}),(0,i.jsx)("select",{value:String(b),onChange:e=>y(parseInt(e.target.value,10)),style:{padding:"8px 10px",borderRadius:12,border:"1px solid rgba(0,0,0,0.15)",background:"white"},children:l.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)("div",{style:{fontSize:12,opacity:.7},children:["Showing ",(0,i.jsx)("b",{children:E.length})," of ",(0,i.jsx)("b",{children:_})]})]}),-1!==b?(0,i.jsxs)("div",{style:{marginTop:12,display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"},children:[(0,i.jsx)("button",{onClick:()=>v(e=>Math.max(1,e-1)),disabled:B<=1,style:{padding:"8px 10px",borderRadius:12,border:"1px solid rgba(0,0,0,0.15)",background:B<=1?"rgba(0,0,0,0.04)":"white",cursor:B<=1?"not-allowed":"pointer"},children:"← Prev"}),(0,i.jsxs)("div",{style:{fontSize:12,opacity:.75},children:["Page ",(0,i.jsx)("b",{children:B})," of ",(0,i.jsx)("b",{children:z})]}),(0,i.jsx)("button",{onClick:()=>v(e=>Math.min(z,e+1)),disabled:B>=z,style:{padding:"8px 10px",borderRadius:12,border:"1px solid rgba(0,0,0,0.15)",background:B>=z?"rgba(0,0,0,0.04)":"white",cursor:B>=z?"not-allowed":"pointer"},children:"Next →"})]}):null,(0,i.jsx)("div",{style:{marginTop:14,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(360px, 1fr))",gap:16},children:E.map(e=>(0,i.jsx)(n.Z,{p:e},e.id))}),(0,i.jsx)("div",{style:{marginTop:12,fontSize:12,opacity:.6},children:"Background loading: thumbnails are preloaded for all matching performers, even if they are on other pages."})]})]})]})}},125:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var i=r(7437),a=r(2265);let n={Name:"name",Aliases:"aliases","Date of birth":"date_of_birth",Age:"age","Career status":"career_status","Career start":"career_start","Career end":"career_end","Date of death":"date_of_death","Place of birth":"place_of_birth",Ethnicity:"ethnicity",Boobs:"boobs",Bust:"bust",Cup:"cup",Bra:"bra",Waist:"waist",Hip:"hip",Butt:"butt",Height:"height",Weight:"weight","Hair Color":"hair_color","Eye Color":"eye_color",Piercings:"piercings","Piercing locations":"piercing_locations",Tattoos:"tattoos","Tattoo locations":"tattoo_locations"};function o(e){let{k:t,v:r}=e;if(null==r||""===r)return null;let a=n[t]||String(t).toLowerCase().replace(/\s+/g,"_"),o=String(r),l="/?fkey=".concat(encodeURIComponent(a),"&fval=").concat(encodeURIComponent(o));return(0,i.jsxs)("div",{style:{display:"flex",gap:8,fontSize:13,lineHeight:1.4,cursor:"default",userSelect:"none"},children:[(0,i.jsx)("div",{style:{width:160,opacity:.7},children:t}),(0,i.jsx)("a",{href:l,title:"Filter by this value",style:{flex:1,wordBreak:"break-word",color:"inherit",textDecoration:"underline",textUnderlineOffset:3,cursor:"pointer",opacity:.95},children:o})]})}function l(e){var t;let{p:r,variant:n="grid"}=e,[l,s]=a.useState(!0),[c,d]=a.useState(!1),[u,p]=a.useState(""),g="/api/performers/".concat(r.id,"/image"),h="/api/performers/".concat(r.id,"/thumb?size=480"),f="/api/performers/".concat(r.id,"/thumb?size=1200"),x=null===(t=r.aliases)||void 0===t?void 0:t.split("|").map(e=>e.trim()).filter(Boolean),b="number"==typeof r.scene_count?r.scene_count:void 0,y="number"==typeof r.gallery_count?r.gallery_count:void 0,m="detail"===n;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("a",{href:"/performers/".concat(r.id),style:{display:"block",color:"inherit",textDecoration:"none"},onClick:e=>{m&&e.preventDefault()},children:(0,i.jsx)("div",{style:{border:"1px solid rgba(0,0,0,0.1)",borderRadius:16,padding:16,boxShadow:"0 6px 18px rgba(0,0,0,0.06)",background:"white"},children:(0,i.jsxs)("div",{style:{display:"flex",gap:16,alignItems:m?"flex-start":"stretch"},children:[(0,i.jsx)("div",{role:m?"img":"button",onClick:e=>{!m&&(e.preventDefault(),e.stopPropagation(),l&&(p(g),d(!0)))},title:m?"":l?"Open image":"No image",style:{...m?{width:"min(520px, 100%)",borderRadius:16,overflow:"hidden",background:"rgba(0,0,0,0.04)",flexShrink:0}:{width:120,height:160,borderRadius:14,overflow:"hidden",background:"rgba(0,0,0,0.04)",flexShrink:0},cursor:!m&&l?"zoom-in":"default"},children:l?(0,i.jsx)("img",{src:m?f:h,alt:r.name,style:{width:"100%",height:m?"auto":"100%",objectFit:m?"contain":"cover",display:"block",background:"rgba(0,0,0,0.02)"},onError:()=>s(!1)}):(0,i.jsx)("div",{style:{width:"100%",height:m?320:"100%",display:"grid",placeItems:"center",opacity:.6},children:"No image"})}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:12},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontSize:20,fontWeight:800},children:r.name}),(null==x?void 0:x.length)?(0,i.jsxs)("div",{style:{marginTop:4,fontSize:13,opacity:.75},children:["Aliases: ",x.join(", ")]}):null]}),(0,i.jsxs)("div",{style:{fontSize:12,opacity:.6,whiteSpace:"nowrap"},children:["#",r.id]})]}),void 0!==b||void 0!==y?(0,i.jsxs)("div",{style:{marginTop:8,display:"flex",gap:8,flexWrap:"wrap"},children:[void 0!==b?(0,i.jsxs)("span",{style:{fontSize:12,padding:"3px 8px",border:"1px solid rgba(0,0,0,0.12)",borderRadius:999,opacity:.85},children:["Scenes: ",b]}):null,void 0!==y?(0,i.jsxs)("span",{style:{fontSize:12,padding:"3px 8px",border:"1px solid rgba(0,0,0,0.12)",borderRadius:999,opacity:.85},children:["Galleries: ",y]}):null]}):null,(0,i.jsxs)("div",{style:{marginTop:12,display:"grid",gap:6},children:[(0,i.jsx)(o,{k:"Date of birth",v:r.date_of_birth}),(0,i.jsx)(o,{k:"Age",v:r.age}),(0,i.jsx)(o,{k:"Career status",v:r.career_status}),(0,i.jsx)(o,{k:"Career start",v:r.career_start}),(0,i.jsx)(o,{k:"Career end",v:r.career_end}),(0,i.jsx)(o,{k:"Place of birth",v:r.place_of_birth}),(0,i.jsx)(o,{k:"Ethnicity",v:r.ethnicity}),(0,i.jsx)(o,{k:"Boobs",v:r.boobs}),(0,i.jsx)(o,{k:"Bust",v:r.bust}),(0,i.jsx)(o,{k:"Cup",v:r.cup}),(0,i.jsx)(o,{k:"Bra",v:r.bra}),(0,i.jsx)(o,{k:"Waist",v:r.waist}),(0,i.jsx)(o,{k:"Hip",v:r.hip}),(0,i.jsx)(o,{k:"Butt",v:r.butt}),(0,i.jsx)(o,{k:"Height",v:r.height}),(0,i.jsx)(o,{k:"Weight",v:r.weight}),(0,i.jsx)(o,{k:"Hair Color",v:r.hair_color}),(0,i.jsx)(o,{k:"Eye Color",v:r.eye_color}),(0,i.jsx)(o,{k:"Piercings",v:r.piercings}),(0,i.jsx)(o,{k:"Piercing locations",v:r.piercing_locations}),(0,i.jsx)(o,{k:"Tattoos",v:r.tattoos}),(0,i.jsx)(o,{k:"Tattoo locations",v:r.tattoo_locations}),(0,i.jsx)(o,{k:"Date of death",v:r.date_of_death})]})]})]})})}),c?(0,i.jsx)("div",{onClick:()=>d(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.75)",display:"grid",placeItems:"center",padding:24,zIndex:9999,cursor:"zoom-out"},children:(0,i.jsx)("img",{src:u||g,alt:r.name,style:{maxWidth:"min(1200px, 95vw)",maxHeight:"92vh",borderRadius:16,boxShadow:"0 18px 60px rgba(0,0,0,0.35)",background:"white"},onClick:e=>e.stopPropagation()})}):null]})}},257:function(e,t,r){"use strict";var i,a;e.exports=(null==(i=r.g.process)?void 0:i.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,i,a=e.exports={};function n(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s=[],c=!1,d=-1;function u(){c&&i&&(c=!1,i.length?s=i.concat(s):d=-1,s.length&&p())}function p(){if(!c){var e=l(u);c=!0;for(var t=s.length;t;){for(i=s,s=[];++d<t;)i&&i[d].run();d=-1,t=s.length}i=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new g(e,t)),1!==s.length||c||l(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function i(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}},o=!0;try{t[e](n,n.exports,i),o=!1}finally{o&&delete r[e]}return n.exports}i.ab="//";var a=i(229);e.exports=a}()}},function(e){e.O(0,[971,117,744],function(){return e(e.s=463)}),_N_E=e.O()}]);