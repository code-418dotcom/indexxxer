
{% extends "base.html" %}
{% block title %}Performers{% endblock %}
{% block content %}
<h2>Performers</h2>
<form method="get" class="row" style="margin-bottom:10px">
  <input name="q" value="{{ q or '' }}" placeholder="Search performers..." style="width:240px">
  <button>Go</button>
</form>
<div class="grid">
{% for p in items %}
  <div class="card">
    <a href="/performer/{{ p.id }}">
      <img src="/performers/img/{{ p.id }}" alt="{{ p.name }}">
      <div class="meta">
        <div class="name">{{ p.name }}</div>
        <div class="sub">
          {% set c = name_counts.get(p.name, 0) %}
          {{ c }} media{% if c==1 %}{% else %}{% endif %}
        </div>
      </div>
    </a>
  </div>
{% endfor %}
</div>
{% if pages > 1 %}
<div class="pager" style="margin:16px 0">
  {% for i in range(1, pages+1) %}
    {% if i == page %}<strong>{{ i }}</strong>{% else %}<a href="?q={{ q }}&page={{ i }}&per={{ per }}">{{ i }}</a>{% endif %}
  {% endfor %}
</div>
{% endif %}
{% endblock %}
